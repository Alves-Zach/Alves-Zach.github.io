<!DOCTYPE html>
<!--
	Forty by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>Train Controller | Zachary Alves</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<!--[if lte IE 8]><script src="/assets/js/ie/html5shiv.js"></script><![endif]-->
	<link rel="stylesheet" href="/assets/css/main.css" />
	<!--[if lte IE 9]><link rel="stylesheet" href="/assets/css/ie9.css" /><![endif]-->
	<!--[if lte IE 8]><link rel="stylesheet" href="/assets/css/ie8.css" /><![endif]-->
</head>


<body>

    <!-- Wrapper -->
<div id="wrapper">

<!-- Header -->
<header id="header">
	
		<a href="https://alves-zach.github.io/" class="logo"><strong>Portfolio</strong> <span>Zachary Alves</span></a>
	
	
	<nav>
		<a href="#menu">Menu</a>
	</nav>
</header>

<!-- Menu -->
<nav id="menu">
	<ul class="links">
        
		    
		
		    
		
		    
		
		    
				
					<li><a href="https://alves-zach.github.io/">Home</a></li>
				
	    	
		
		    
		
		    
		
		    
		
		
		    
		
		    
		        <li><a href="https://alves-zach.github.io//about.html">About Me</a></li>
		    
		
		    
		        <li><a href="https://alves-zach.github.io//contact.html">Contact</a></li>
		    
		
		    
		
		    
		        <li><a href="https://alves-zach.github.io//projects.html">Projects</a></li>
		    
		
		    
		        <li><a href="https://alves-zach.github.io//resume.html">Resume</a></li>
		    
		
	</ul>
	<!--
	<ul class="actions vertical">
		<li><a href="#" class="button special fit">Get Started</a></li>
		<li><a href="#" class="button fit">Log In</a></li>
	</ul>
	-->
</nav>
 
    
    
<!-- Main -->
<div id="main" class="alt">

<!-- One -->
<section id="one">
	<div class="inner">
		<header class="major">
			<h1>Train Controller</h1>
		</header>
		<div><strong>Technologies:</strong> Python, ROS 2, YOLOv8, CAD, Computer Vision</div><br>
		
			
		
		<p><a href="https://github.com/Alves-Zach/winter2024Project" target="_blank">GitHub Repository</a></p>

<p>As part of a ten-week-long winter project through Northwestern University’s Master of Robotics program I created a closed loop system in which a four degrees-of-freedom robot controls a model train. The train has a camera attached to the front that recognizes traffic signs along the tracks and sends the names of those recognized signs to a computer that commands the robot to modify the train’s speed or switch the tracks the train is driving on.</p>

<div style="width: 50%; margin: 0 auto;">
    <div class="video-wrapper">
        <iframe src="https://www.youtube.com/embed/woVw4lZcpXk " frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe>
    </div>
</div>
<p style="text-align: center;"><em>A full demo of the train controller, showing Rviz, the train’s perspective, and an overhead view</em></p>

<hr />

<h2 id="data-pipeline">Data Pipeline</h2>
<p>A <strong>Raspberry Pi</strong> attached to the train’s second car transmits raw image data to the computer that processes that data and determines which signs are present in each frame of the video feed. <strong>FFMPEG</strong> was utilized as a lightweight way to transmit data over the network from one device to another with relatively low latency. <strong>Raspberry Pi</strong>’s have built-in hardware to do h264 encoding, so by using a USB webcam that supports that encoding, as well as other <strong>FFMPEG</strong> optimizations, a latency of 0.2 seconds was achieved which allowing for fairly quick reaction times from camera to computer. From the raw images, image recognition was used to determine which traffic signs were present, and therefore, which commands to send to the robot.</p>

<p style="text-align: center;"><img src="/assets/images/TrainController/BlockDiagram.png" alt="The Block Diagram showing the flow of data and commands" width="50%" /></p>

<h2 id="computer-vision">Computer Vision:</h2>
<p><strong>YOLOv8</strong> was utilized to impliment image classification on incoming video frames. Training pictures were manually annotated to show the location of the traffic sign in each image. Data augmentation was also utilized to create new photos from the training dataset by artificially modifying already annotated images. Modifications include adjusting the brightness, rotating the image, increasing contrast, and other photo modification methods. Adding these artificially modified images creates a larger training dataset for the model, therefore making a more accurate model.</p>

<p style="text-align: center;"><img src="/assets/images/TrainController/SignRecognition.png" alt="Example of image with a stop sign recognized in it" width="50%" /></p>
<p style="text-align: center;"><em>Example of image with a stop sign recognized in it</em></p>

<p>The image above shows that my model both recognizes that this sign means slow and shows that it is 88% confident that it is a slow sign. The image is smeared because this was taken from a trial run with the train moving, showing that the model can confidently identify which sign is seen while the camera is in motion.</p>

<h2 id="robot-control">Robot Control</h2>
<p>The robot that was chosen for this project was an <a href="https://www.trossenrobotics.com/pincherx-100-robot-arm.aspx" target="_blank"><strong>Interbotix PX100</strong></a>.
This robot was chosen for its ease of use and size compared to the dial that controlled the train’s speed. Each time a command came from the sign-detecting portion of the controller each of the different joints of the robot were commanded to move to positions that would adjust the dial to the desired speed or to press the track switching button.</p>

<p>Due to the robot’s limited degrees of freedom, a handle was made for the dial that controlled the speed of the train which allowed the robot to more easily grasp it. The speed controller dial combined with a button on the right side of the setup can control both the speed of the train and the desired track of travel. A plate was 3D-printed to fix the distance between the PX100, the dial, and the track-switching button. The full 3D-printed setup can be seen below.</p>

<p style="text-align: center;"><img src="/assets/images/TrainController/RobotSetup.png" alt="Full robot train controller setup" width="50%" /></p>
<p style="text-align: center;"><em>Full robot train controller setup</em></p>

	</div>
</section>

</div>

    <!-- Contact -->
<!--
<section id="contact">
	<div class="inner">
		<section>
			<form action="https://formspree.io/zacharyalves2024@u.northwestern.edu" method="POST">
				<div class="field half first">
					<label for="name">Name</label>
					<input type="text" name="name" id="name" />
				</div>
				<div class="field half">
					<label for="email">Email</label>
					<input type="text" name="_replyto" id="email" />
				</div>
				<div class="field">
					<label for="message">Message</label>
					<textarea name="message" id="message" rows="6"></textarea>
				</div>
				<ul class="actions">
					<li><input type="submit" value="Send Message" class="special" /></li>
					<li><input type="reset" value="Clear" /></li>
				</ul>
			</form>
		</section>
		<section class="split">
			<section>
				<div class="contact-method">
					<span class="icon alt fa-envelope"></span>
					<h3>Email</h3>
					<a href="mailto:zacharyalves2024@u.northwestern.edu">zacharyalves2024@u.northwestern.edu</a>
				</div>
			</section>
			<section>
				<div class="contact-method">
					<span class="icon alt fa-phone"></span>
					<h3>Phone</h3>
					<a href="tel:(720) 215-1442">(720) 215-1442</a>
				</div>
			</section>
			<section>
				<div class="contact-method">
					<span class="icon alt fa-home"></span>
					<h3>Address</h3>
					<span>
					
					
					    Chicago,
					
					
					    IL 
					
					
					
					    United States of America
					
					</span>
				</div>
			</section>
		</section>
	</div>
</section>
-->
<!-- Footer -->
	<footer id="footer">
		<div class="inner">
			<ul class="icons">
    <li><a href="mailto:zacharyalves2024@u.northwestern.edu" class="icon alt fa-envelope"></a></li>
    <li><a href="tel:(720) 215-1442" class="icon alt fa-phone"></a></li>
    
        
            <li>
                <a href="https://www.linkedin.com/in/zachary-alves-b186b2159/" class="icon alt fa-linkedin" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
                    <span class="label">LinkedIn</span>
                </a>
            </li>
        
    
        
            <li>
                <a href="https://github.com/Alves-Zach" class="icon alt fa-github" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
                    <span class="label">GitHub</span>
                </a>
            </li>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
</ul>
			<!--
			<ul class="icons">
				<li><a href="mailto:zacharyalves2024@u.northwestern.edu" class="icon alt fa-envelope"></a></li>
				<li><a href="tel:(720) 215-1442" class="icon alt fa-phone"></a></li>
				
					
						<li>
							<a href="https://www.linkedin.com/in/zachary-alves-b186b2159/" class="icon alt fa-linkedin" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
								<span class="label">LinkedIn</span>
							</a>
						</li>
					
				
					
						<li>
							<a href="https://github.com/Alves-Zach" class="icon alt fa-github" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
								<span class="label">GitHub</span>
							</a>
						</li>
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			</ul>
			-->
			<ul class="copyright">
				<li>&copy; <script>document.write(new Date().getFullYear())</script> Zachary Alves </li>
				<li>Design: <a href="https://html5up.net" target="_blank">HTML5 UP</a></li>
				<li>Jekyll integration: <a href="http://andrewbanchi.ch" target="_blank">Andrew Banchich</a></li>

			</ul>
		</div>
	</footer>

</div>

<!-- Scripts -->
	<script src="https://alves-zach.github.io//assets/js/jquery.min.js"></script>
	<script src="https://alves-zach.github.io//assets/js/jquery.scrolly.min.js"></script>
	<script src="https://alves-zach.github.io//assets/js/jquery.scrollex.min.js"></script>
	<script src="https://alves-zach.github.io//assets/js/skel.min.js"></script>
	<script src="https://alves-zach.github.io//assets/js/util.js"></script>
	<!--[if lte IE 8]><script src="https://alves-zach.github.io//assets/js/ie/respond.min.js"></script><![endif]-->
	<script src="https://alves-zach.github.io//assets/js/main.js"></script>
	<!-- <script src="/js/zepto.min.js"></script>
	<script>jQuery = Zepto;</script> -->
	<script src="https://alves-zach.github.io//assets/js/jquery.details.min.js"></script>
	<script>$('details').details();</script>

</body>

</html>
